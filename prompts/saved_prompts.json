{
  "question_generator": {
    "name": "Question Generator (Dynamic)",
    "template": "Generate {num_questions} educational questions for grade {grade_level} based on these learning goals:\n\n{learning_goals}\n\n=== DIFFICULTY LEVELS (0-4) ===\n\nLevel 0 - Support: Easiest 'wins'; boost motivation and early success\n  Purpose: Confidence building after struggle - does NOT count toward mastery\n  Target: ~10% of questions\n  \u25cb Support only\n  Allowed types: procedural, conceptual\n  Characteristics: Simplest possible version; Maximum scaffolding; 90%+ success rate expected\n\nLevel 1 - Confidence: Slightly more challenging than Level 0; builds confidence\n  Purpose: Early practice with clear scaffolding\n  Target: ~15% of questions\n  \u25cb Support only\n  Allowed types: procedural, conceptual\n  Characteristics: Direct application; Strong visual support; 75-85% success rate expected\n\nLevel 2 - Baseline: Core assessments; mastery-level expectations begin here\n  Purpose: Standard mastery assessment\n  Target: ~30% of questions\n  \u2713 COUNTS TOWARD MASTERY\n  Allowed types: procedural, conceptual, transfer\n  Characteristics: Grade-level expectations; Clear but not excessive scaffolding; 65-75% success rate expected\n\nLevel 3 - Stretch: Deeper exploration; builds on core understanding\n  Purpose: Challenge students who show baseline mastery\n  Target: ~25% of questions\n  \u2713 COUNTS TOWARD MASTERY\n  Allowed types: procedural, conceptual, transfer\n  Characteristics: Requires deeper reasoning; May involve patterns or connections; 50-60% success rate expected\n\nLevel 4 - Challenge: Above-grade exploration; encourages creative and flexible thinking\n  Purpose: Enrichment for advanced students\n  Target: ~20% of questions\n  \u2713 COUNTS TOWARD MASTERY\n  Allowed types: procedural, conceptual, transfer\n  Characteristics: Novel applications; Multi-step reasoning; 30-50% success rate expected\n\n=== QUESTION TYPES (Cognitive Focus) ===\n\nPROCEDURAL: Skill execution\n  Verbs: create, construct, partition, divide\n  Target: ~25% of questions\n  Description: Student performs a mathematical procedure or construction\n  Examples:\n    - \"Divide this bar into 3 equal parts\"\n    - \"Click to make 4 equal parts\"\n\nCONCEPTUAL: Understanding & reasoning\n  Verbs: identify, compare, explain, recognize\n  Target: ~45% of questions\n  Description: Student demonstrates understanding through recognition or analysis\n  Examples:\n    - \"Which shape shows 3 equal parts?\"\n    - \"Are these parts equal?\"\n\nTRANSFER: Application in new contexts\n  Verbs: apply, connect, predict, extend\n  Target: ~30% of questions\n  Description: Student applies learned concepts to novel situations\n  Examples:\n    - \"Continue this pattern: 2 parts, 4 parts, ___ parts\"\n    - \"Use what you know about halves to make fourths\"\n\n=== INTERACTION TYPES ===\n- \"Multiple Choice\": Select one correct answer from 4 options\n- \"Multiple Select\": Choose 2-3 correct from 5-6 options\n- \"Click\": Click/tap on visual elements (shapes, numbers, diagrams)\n- \"Shade\": Color in or shade parts of a visual (fractions, arrays, models)\n- \"Drag and Drop\": Match items, order sequences, or sort into categories\n- \"Input\": Type in numeric or short text answer\n- \"True/False\": Simple statement verification\n\n=== DISTRIBUTION REQUIREMENTS ===\nGenerate questions with the following target distribution:\n\nDifficulty Levels:\n  - Level 0: ~10%\n  - Level 1: ~15%\n  - Level 2: ~30%\n  - Level 3: ~25%\n  - Level 4: ~20%\n\nQuestion Types:\n  - Procedural: ~25%\n  - Conceptual: ~45%\n  - Transfer: ~30%\n\nIMPORTANT CONSTRAINTS:\n1. Levels 0-1 can ONLY be procedural or conceptual (NO transfer)\n2. Levels 2-4 can include all question types (procedural, conceptual, transfer)\n3. Vary interaction types - use at least 4-5 different types\n4. Match cognitive verbs to question types (e.g., \"identify\" \u2192 conceptual, \"partition\" \u2192 procedural)\n5. Progress from simpler (Level 0-1) to complex (Level 3-4)\n\n=== REQUIRED OUTPUT FORMAT ===\nReturn a JSON object with this EXACT structure:\n\n{{\n  \"metadata\": {{\n    \"total_questions\": <number>,\n    \"distribution\": {{\n      \"by_difficulty\": {{\n        \"0\": <count>, \"1\": <count>, \"2\": <count>, \"3\": <count>, \"4\": <count>\n      }},\n      \"by_question_type\": {{\n        \"procedural\": <count>, \"conceptual\": <count>, \"transfer\": <count>\n      }},\n      \"by_interaction_type\": {{\n        \"<type>\": <count>, ...\n      }}\n    }}\n  }},\n  \"questions\": [\n    {{\n      \"id\": <sequential number starting at 1>,\n      \"goal\": \"<specific learning goal addressed>\",\n      \"prompt\": \"<clear, age-appropriate question text>\",\n      \"interaction_type\": \"<one of the interaction types listed above>\",\n      \"difficulty_level\": <integer 0-4>,\n      \"question_type\": \"<procedural|conceptual|transfer>\",\n      \"cognitive_verb\": \"<main action verb from appropriate category>\",\n      \"context\": \"<optional visual description or scenario setup>\"\n    }},\n    ...\n  ]\n}}\n\nThe metadata section should summarize the actual distribution achieved.\n\n=== EXAMPLE OUTPUT ===\n{{\n  \"metadata\": {{\n    \"total_questions\": 3,\n    \"distribution\": {{\n      \"by_difficulty\": {{\"0\": 1, \"1\": 0, \"2\": 1, \"3\": 1, \"4\": 0}},\n      \"by_question_type\": {{\"procedural\": 1, \"conceptual\": 1, \"transfer\": 1}},\n      \"by_interaction_type\": {{\"Click\": 1, \"Multiple Choice\": 1, \"Input\": 1}}\n    }}\n  }},\n  \"questions\": [\n    {{\n      \"id\": 1,\n      \"goal\": \"Students can partition shapes into equal parts\",\n      \"prompt\": \"Click to divide this rectangle into 2 equal parts\",\n      \"interaction_type\": \"Click\",\n      \"difficulty_level\": 0,\n      \"question_type\": \"procedural\",\n      \"cognitive_verb\": \"divide\",\n      \"context\": \"Show empty rectangle with click areas to create partition line\"\n    }},\n    {{\n      \"id\": 2,\n      \"goal\": \"Students can identify unit fractions\",\n      \"prompt\": \"Which shape shows 1/4?\",\n      \"interaction_type\": \"Multiple Choice\",\n      \"difficulty_level\": 2,\n      \"question_type\": \"conceptual\",\n      \"cognitive_verb\": \"identify\",\n      \"context\": \"Show 4 shapes: 1/2, 1/3, 1/4, 1/5\"\n    }},\n    {{\n      \"id\": 3,\n      \"goal\": \"Students can apply fraction concepts\",\n      \"prompt\": \"If 1/2 of 8 is 4, predict what 1/4 of 8 would be\",\n      \"interaction_type\": \"Input\",\n      \"difficulty_level\": 3,\n      \"question_type\": \"transfer\",\n      \"cognitive_verb\": \"predict\",\n      \"context\": \"Student enters numeric answer\"\n    }}\n  ]\n}}\n\nCRITICAL: Return ONLY valid JSON matching the structure above. Include both metadata and questions arrays.",
    "generated_from": "inputs/difficulty_levels.py and inputs/question_types.py",
    "note": "This prompt is auto-generated. Edit the framework files to update."
  },
  "answer_generator": {
    "name": "Answer Generator",
    "template": "Given these educational questions, generate detailed answers with explanations:\n\n{questions}\n\nReturn as a JSON array where each item has:\n- \"question\": the original question text\n- \"answer\": the correct answer\n- \"explanation\": step-by-step explanation\n- \"hints\": array of helpful hints for students\n\nExample:\n[\n  {{\n    \"question\": \"What is 1/2 + 1/4?\",\n    \"answer\": \"3/4\",\n    \"explanation\": \"First find common denominator (4), convert 1/2 to 2/4, then add: 2/4 + 1/4 = 3/4\",\n    \"hints\": [\"Find a common denominator\", \"Convert fractions\", \"Add numerators\"]\n  }}\n]"
  }
}